import{r as a,j as e,L as p}from"./index-CL3USVe2.js";import{F as q}from"./index-BtzjGJKt.js";import{F as D}from"./index-X5nVT_zv.js";import{a as R,f as $,c as L}from"./index-DLkvvjtg.js";import{G as _}from"./iconBase-BiHnmMnr.js";function A(s){return _({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(s)}const E=({cartItemsList:s,setCartItemsList:i,user:h,setUser:d})=>{const[o,u]=a.useState(null),[j,m]=a.useState(!1);a.useEffect(()=>{const t={...h,cartItems:s};localStorage.setItem("currentUser ",JSON.stringify(t)),d&&d(t)},[s]);const g=t=>{const l=s.findIndex(r=>r.id===t);if(l!==-1){const r=s[l],n=[...s];n.splice(l,1),i(n),u(`Removed ${r.name} from cart`),m(!0)}};if(s.length===0)return e.jsx("section",{className:"w-[100%] h-auto flex flex-col items-center justify-center",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Nothing In Cart"})});function f(t,l){const r=s.findIndex(n=>n.id===t);if(r!==-1){const n=[...s];n[r].quantity=l,i(n)}}return e.jsxs("section",{className:"w-[100%] h-auto flex flex-col items-center justify-center",children:[s.map(t=>e.jsxs("div",{className:"w-[100%] flex flex-row items-center justify-center py-6 max-[350px]:py-2 gap-4 border-t-2 border-t-gray-400",children:[e.jsx(p,{to:`/ProductDetail/${t.id}`,children:e.jsx("img",{loading:"lazy",className:"w-[6rem] h-[6rem] rounded-sm",src:t.thumbnail,alt:"cartItem"})},t.id),e.jsxs("div",{className:"flex flex-row items-start justify-between gap-2 max-[350px]:gap-0 max-[500px]:flex-col",children:[e.jsxs("div",{className:"flex flex-col items-start justify-start gap-6 max-[750px]:gap-2 max-[500px]:gap-0",children:[e.jsx("h1",{className:"font-bold text-[1.2rem] leading-5 max-[350px]:text-[0.95rem] w-[20rem] max-[760px]:w-[15rem] max-[600px]:w-[10rem] max-[500px]:w-[15rem] max-[370px]:w-[11rem] max-[760px]:text-[1rem]",children:t.title}),e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsxs("p",{className:"text-sm max-[350px]:text-xs",children:["Size: ",t.size]}),e.jsxs("p",{className:"text-sm max-[350px]:text-xs",children:["$",t.price]})]})]}),e.jsxs("div",{className:"flex flex-row items-center justify-center gap-[1rem] max-[350px]:gap-[0.75rem]",children:[e.jsxs("h1",{className:"font-bold max-[350px]:font-semibold max-[350px]:text-sm",children:["$",(t.quantity*t.price).toFixed(2)]}),e.jsxs("div",{className:"flex flex-row item-center justify-center gap-[1rem] max-[500px]:gap-[0.5rem] border-y-2 border-white p-2 max-[350px]:p-0 max-[350px]:border-none leading-4",children:[e.jsx(D,{onClick:t.quantity>=2?()=>f(t.id,t.quantity-1):null,className:"cursor-pointer hover:text-gray-700 max-[350px]:text-sm"}),e.jsx("h1",{className:"text-[1.2rem] max-[350px]:text-md",children:t.quantity}),e.jsx(L,{onClick:t.quantity<10?()=>f(t.id,t.quantity+1):null,className:"cursor-pointer hover:text-gray-700 max-[350px]:text-sm"})]}),e.jsx(A,{onClick:()=>g(t.id),className:"cursor-pointer hover:text-red-800"})]})]})]},t.id)),j&&e.jsxs("div",{className:"select-none font-bold font-serif absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#f1f1f1] shadow-[0.1px_0.1px_0.1rem_#dd957a] p-[2rem] rounded-md flex flex-col items-center justify-center gap-4",children:[e.jsx("h1",{className:"text-[1.5rem] text-[#b48068] leading-5",children:"Alert"}),e.jsx("h1",{className:"text-[1.2rem]",children:o}),e.jsx("button",{onClick:()=>m(!1),className:"cursor-pointer text-[1rem] bg-black text-[#b48068] border-2 border-black hover:text-black hover:bg-[#b48068] hover:transition-all duration-700 ease-in-out px-[1rem] py-[0.35rem]",children:"Close"})]})]})};function H({user:s,setUser:i}){const[h,d]=a.useState(!1),[o,u]=a.useState((s==null?void 0:s.cartItems)||[]),[j,m]=a.useState(0),[g,f]=a.useState(0),[t,l]=a.useState(0),[r,n]=a.useState(""),[v,C]=a.useState(!1),[S,b]=a.useState(!1),y=["we123","shop2","rk7","code.js","git511"],k=()=>{localStorage.setItem("currentUser",JSON.stringify(null)),i(null),d(!1)};a.useEffect(()=>{if(o.length===0)m(0),f(0),l(0);else{let c=0;o.forEach(w=>{c+=w.price*w.quantity});const x=o.length*3,N=o.length*4,I=c+N-x;m(x),f(N),l(I)}},[o]);const F=()=>{let c=!1;if(!v)for(let x=0;x<y.length;x++)y[x]==r&&(l(t/1.3),c=!0,C(!0));b(!c)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-[100%] h-auto font-serif flex flex-col items-center justify-between select-none px-4 max-[350px]:px-2",children:[e.jsxs("section",{className:"flex flex-row items-center py-2 px-2 justify-between w-[100%] h-auto",children:[e.jsx(p,{to:"/",children:e.jsx("button",{className:"font-extrabold font-serif text-xl cursor-pointer hover:text-gray-700",children:"shoppey"})}),e.jsxs("div",{className:"flex flex-row items-center justify-center gap-6 text-xl",children:[e.jsx(p,{to:"/Save",children:e.jsx(R,{className:"cursor-pointer hover:text-gray-500"})}),s?e.jsx("h1",{onClick:()=>d(!h),className:"cursor-pointer hover:text-gray-500",children:s.name}):e.jsx(p,{to:"/SignIU",children:e.jsx(q,{className:"cursor-pointer hover:text-gray-500"})}),s?h&&e.jsxs("div",{className:"select-none font-bold font-serif absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#f1f1f1] shadow-[0.1px_0.1px_0.1rem_#dd957a] p-[2rem] rounded-md flex flex-col items-center justify-center gap-4",children:[e.jsxs("h1",{className:"text-[1.5rem] text-[#b48068] leading-5",children:["Hello, ",s==null?void 0:s.name,"!"]}),e.jsx("h1",{className:"text-[1.2rem]",children:s==null?void 0:s.email}),e.jsx("button",{onClick:k,className:"cursor-pointer text-[1rem] bg-black text-[#b48068] border-2 border-black hover:text-black hover:bg-[#b48068] hover:transition-all duration-700 ease-in-out px-[1rem] py-[0.35rem]",children:"Logout"})]}):null]})]}),e.jsx("section",{className:"mb-2 flex flex-col items-center justify-center w-[100%] p-8 h-auto bg-linear-to-l from-[#dd957a] to-[#eee2ca]",children:e.jsx("h1",{className:"font-bold text-2xl",children:"Shopping Cart"})}),s?e.jsxs("section",{className:"w-[100%] h-auto flex flex-col items-center justify-center",children:[e.jsx(E,{cartItemsList:o,setCartItemsList:u,user:s,setUser:i}),e.jsxs("div",{className:"w-[100%] flex flex-row max-[500px]:flex-col items-start max-[500px]:items-center gap-2 max-[500px]:gap-4 justify-between py-6 border-t-2 border-t-gray-400",children:[e.jsxs("div",{className:"w-[100%] flex flex-col items-start justify-start gap-2",children:[e.jsx("h1",{className:"font-semibold",children:"Do you have a discount?"}),e.jsxs("div",{className:"flex flex-row gap-2 items-center justify-center",children:[e.jsx("input",{type:"text",value:r,onChange:c=>n(c.target.value),placeholder:"Coupon code",className:"w-[10rem] h-[2.5rem] px-4 rounded-sm border-gray-300 bg-white/50 text-black placeholder:text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#b48068]"}),e.jsx($,{onClick:F,className:"w-[2rem] h-[2rem] text-white cursor-pointer p-2 bg-black rounded-full"})]}),S&&e.jsx("p",{className:"text-sm text-red-500",children:"Code does not exist!"})]}),e.jsxs("div",{className:"w-[100%] flex flex-col gap-2 items-start justify-start",children:[e.jsxs("h1",{children:["Delivery charges: ",e.jsxs("span",{className:"font-bold",children:["$",g.toFixed(2)]})]}),e.jsxs("h1",{children:["Discount: ",e.jsxs("span",{className:"font-bold",children:["$",j.toFixed(2)]})]}),e.jsxs("h1",{className:"text-[2rem] max-[350px]:text-[1rem]",children:["Total: ",e.jsxs("span",{className:"font-bold",children:["$",t.toFixed(2)]})]}),e.jsx("button",{className:"w-[100%] bg-black text-white rounded-sm cursor-pointer py-2",children:"Proceed to checkout"})]})]})]}):e.jsx("div",{className:"w-[100%] h-auto flex flex-col items-center justify-center",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Please Sign In to view your cart"})})]})})}export{H as default};
