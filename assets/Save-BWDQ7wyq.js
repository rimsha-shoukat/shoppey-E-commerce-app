import{r as o,j as e,L as i}from"./index-CL3USVe2.js";import{F as g}from"./index-BtzjGJKt.js";import{b as v}from"./index-DLkvvjtg.js";import"./iconBase-BiHnmMnr.js";const w=({user:s,setUser:a})=>{const[r,m]=o.useState(s.saveItems||[]),[x,f]=o.useState(s.cartItems||[]),[h,d]=o.useState(null),[u,c]=o.useState(!1);o.useEffect(()=>{const t={...s,saveItems:r};localStorage.setItem("currentUser ",JSON.stringify(t)),a&&a(t)},[r]),o.useEffect(()=>{const t={...s,cartItems:x};localStorage.setItem("currentUser ",JSON.stringify(t)),a&&a(t)},[x]);const b=t=>{const n=r.find(l=>l.id===t);n&&(x.some(l=>l.id===t)?(d("Already in cart"),c(!0)):(f([...x,n]),d("Added to cart"),c(!0)))},j=t=>{const n=r.findIndex(l=>l.id===t);if(n!==-1){const l=r[n],p=[...r];p.splice(n,1),m(p),d(`Removed ${l.title} from saved items`),c(!0)}};return r.length===0?e.jsx("div",{className:"w-[100%] h-auto flex flex-col items-center justify-center",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Nothing In Saved Items"})}):e.jsxs("section",{className:"w-[100%] h-auto flex flex-col items-center justify-center",children:[r.map(t=>e.jsxs("div",{className:"w-auto flex flex-row items-center justify-start py-6 max-[600px]:py-2 gap-4 max-[600px]:gap-2 border-t-2 border-t-gray-400",children:[e.jsx(i,{to:`/ProductDetail/${t.id}`,children:e.jsx("img",{loading:"lazy",className:"w-[8rem] h-[8rem] max-[400px]:w-[6rem] max-[400px]:h-[6rem] rounded-sm",src:t.thumbnail,alt:"saveItems"},t.id)},t.id),e.jsxs("div",{className:"flex flex-row max-[600px]:flex-col max-[600px]:gap-4 items-start justify-between gap-[3rem] ",children:[e.jsxs("div",{className:"flex flex-col items-start justify-start gap-2",children:[e.jsx("h1",{className:"text-[1.3rem] leading-7 max-[750px]:text-[1rem] max-[750px]:leading-5 w-[20rem] max-[750px]:w-[14rem] max-[650px]:w-[10rem] max-[600px]:w-[18rem] max-[440px]:w-[15rem] max-[400px]:w-[12rem] max-[320px]:w-[10rem] overflow-hidden font-bold max-[400px]:text-[0.85rem] max-[400px]:font-semibold",children:t.title}),e.jsxs("div",{className:"flex flex-row items-center justify-between gap-4",children:[e.jsxs("p",{className:"text-md text-nowrap max-[400px]:text-sm",children:["Size: ",t.size]}),e.jsxs("p",{className:"text-md text-nowrap max-[400px]:text-sm",children:["$",t.price]})]})]}),e.jsxs("div",{className:"flex flex-row items-start justify-start gap-4",children:[e.jsx("button",{onClick:()=>b(t.id),className:"px-[1rem] py-[0.5rem] hover:font-bold max-[600px]:px-0 max-[600px]:py-0 max-[600px]:text-blue-700 max-[600px]:bg-transparent rounded-md cursor-pointer border-none max-[400px]:text-sm bg-blue-700 hover:bg-transparent hover:text-blue-900 text-nowrap",children:"Add to cart"}),e.jsx("button",{onClick:()=>j(t.id),className:"px-[1rem] py-[0.5rem] hover:font-bold max-[600px]:px-0 max-[600px]:py-0 max-[600px]:text-red-600 max-[600px]:bg-transparent rounded-md cursor-pointer border-none max-[400px]:text-sm bg-red-600 hover:bg-transparent hover:text-red-800",children:"Remove"})]})]})]},t.id)),u&&e.jsxs("div",{className:"select-none font-bold font-serif absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#f1f1f1] shadow-[0.1px_0.1px_0.1rem_#dd957a] p-[2rem] rounded-md flex flex-col items-center justify-center gap-4",children:[e.jsx("h1",{className:"text-[1.5rem] text-[#b48068] leading-5",children:"Alert"}),e.jsx("h1",{className:"text-[1.2rem]",children:h}),e.jsx("button",{onClick:()=>c(!1),className:"cursor-pointer text-[1rem] bg-black text-[#b48068] border-2 border-black hover:text-black hover:bg-[#b48068] hover:transition-all duration-700 ease-in-out px-[1rem] py-[0.35rem]",children:"Close"})]})]})};function k({user:s,setUser:a}){const[r,m]=o.useState(!1),x=()=>{localStorage.setItem("currentUser",JSON.stringify(null)),a(null),m(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-[100%] h-auto font-serif flex flex-col items-center justify-between select-none px-4 max-[400px]:px-2",children:[e.jsxs("section",{className:"flex flex-row items-center py-2 px-2 justify-between w-[100%] h-auto",children:[e.jsx(i,{to:"/",children:e.jsx("button",{className:"font-extrabold font-serif text-xl cursor-pointer hover:text-gray-700",children:"shoppey"})}),e.jsxs("div",{className:"flex flex-row items-center justify-center gap-6 text-xl",children:[e.jsx(i,{to:"/Cart",children:e.jsx(v,{className:"cursor-pointer hover:text-gray-500"})}),s?e.jsx("h1",{onClick:()=>m(!r),className:"cursor-pointer hover:text-gray-500",children:s.name}):e.jsx(i,{to:"/SignIU",children:e.jsx(g,{className:"cursor-pointer hover:text-gray-500"})}),s?r&&e.jsxs("div",{className:"select-none font-bold font-serif absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#f1f1f1] shadow-[0.1px_0.1px_0.1rem_#dd957a] p-[2rem] rounded-md flex flex-col items-center justify-center gap-4",children:[e.jsxs("h1",{className:"text-[1.5rem] text-[#b48068] leading-5",children:["Hello, ",s==null?void 0:s.name,"!"]}),e.jsx("h1",{className:"text-[1.2rem]",children:s==null?void 0:s.email}),e.jsx("button",{onClick:x,className:"cursor-pointer text-[1rem] bg-black text-[#b48068] border-2 border-black hover:text-black hover:bg-[#b48068] hover:transition-all duration-700 ease-in-out px-[1rem] py-[0.35rem]",children:"Logout"})]}):null]})]}),e.jsx("section",{className:"mb-2 flex flex-col items-center justify-center w-[100%] p-8 h-auto bg-linear-to-l from-[#dd957a] to-[#eee2ca]",children:e.jsx("h1",{className:"font-bold text-2xl",children:"Saved Items"})}),s?e.jsx(w,{user:s,setUser:a}):e.jsx("div",{className:"w-[100%] h-auto flex flex-col items-center justify-center",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Please Sign In to view save Items"})})]})})}export{k as default};
