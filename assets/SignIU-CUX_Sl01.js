import{r as n,u as P,j as e}from"./index-CL3USVe2.js";function J({user:q,setUser:v}){const[d,p]=n.useState(!0),[h,x]=n.useState(""),[a,m]=n.useState(""),[l,i]=n.useState(""),[f,u]=n.useState(""),y=P(),[S,o]=n.useState(null),[C,r]=n.useState(!1),[b,g]=n.useState(!1),w=()=>{p(!d),x(""),m(""),i(""),u("")},k=t=>{t.preventDefault();let s=(JSON.parse(localStorage.getItem("users"))||[]).find(j=>j.email===a&&j.password===l);s?(localStorage.setItem("currentUser",JSON.stringify(s)),v(s),o("login successful"),r(!0),y("/")):(o("invalid email or password"),r(!0)),m(""),i("")},I=t=>{t.preventDefault();const c=JSON.parse(localStorage.getItem("users"))||[];if(c.find(s=>s.email===a))o("User  already exists"),r(!0);else if(l===f){const s={name:h,email:a,password:l,saveItems:[],cartItems:[]};c.push(s),localStorage.setItem("users",JSON.stringify(c)),o("User  added successfully"),r(!0),p(!0),x(""),m(""),i(""),u("")}else o("Password and confirm password do not match"),r(!0)},N=t=>{t.preventDefault(),g(!b),x(""),m(""),i(""),u("")},U=()=>{if(!a||!l){o("Please fill all the fields"),r(!0);return}else{let t=JSON.parse(localStorage.getItem("users"))||[],c=t.find(s=>s.email===a);if(c)c.password=l,localStorage.setItem("users",JSON.stringify(t)),g(!1),o("Password Changed Successfully"),r(!0);else{o("User not found"),r(!0);return}}};return e.jsx(e.Fragment,{children:e.jsxs("main",{className:"relative flex flex-row-reverse max-[800px]:flex-col items-center justify-center w-[100%] h-[100vh] max-[800px]:h-auto select-none font-serif",children:[C&&e.jsxs("div",{className:"select-none font-bold font-serif absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#f1f1f1] shadow-[0.1px_0.1px_0.1rem_#dd957a] p-[2rem] rounded-md flex flex-col items-center justify-center gap-4 z-10",children:[e.jsx("h1",{className:"text-[1.5rem] text-[#b48068] leading-5",children:"Alert"}),e.jsx("h1",{className:"text-[1.2rem]",children:S}),e.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer text-[1rem] bg-black text-[#b48068] border-2 border-black hover:text-black hover:bg-[#b48068] hover:transition-all duration-700 ease-in-out px-[1rem] py-[0.35rem]",children:"Close"})]}),b&&e.jsxs("div",{className:"select-none font-bold font-serif absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#f1f1f1] shadow-[0.1px_0.1px_0.1rem_#dd957a] p-[2rem] rounded-md flex flex-col items-center justify-center gap-4 z-6",children:[e.jsx("input",{value:a,onChange:t=>m(t.target.value),className:"w-[15rem] bg-white/30 px-[0.5rem] py-[0.35rem] text-[1.1rem]",placeholder:"Email",type:"email",required:!0}),e.jsx("input",{value:l,onChange:t=>i(t.target.value),className:"w-[15rem] bg-white/30 px-[0.5rem] py-[0.35rem] text-[1.1rem]",placeholder:"New Password",type:"text",required:!0}),e.jsxs("div",{className:"flex flex-row gap-4 mt-4",children:[e.jsx("button",{onClick:U,className:"cursor-pointer text-[1rem] bg-black text-[#b48068] border-2 border-black hover:text-black hover:bg-[#b48068] hover:transition-all duration-700 ease-in-out px-[1rem] py-[0.35rem]",children:"Confirm"}),e.jsx("button",{onClick:N,className:"cursor-pointer text-[1rem] bg-black text-[#b48068] border-2 border-black hover:text-black hover:bg-[#b48068] hover:transition-all duration-700 ease-in-out px-[1rem] py-[0.35rem] ml-[1rem]",children:"Cancel"})]})]}),e.jsxs("section",{className:"relative left-[10.5rem] max-[800px]:left-0 max-[800px]:-bottom-[22rem] max-[440px]:w-screen w-[26rem] h-[30rem] rounded-xl border-0 shadow-xl z-2",children:[e.jsx("img",{loading:"lazy",className:"absolute w-[100%] h-[100%] rounded-xl shadow-lg",src:"assets/landing-bg.webp",alt:"bgImage"}),e.jsxs("div",{className:`${d?"block":"hidden"} relative w-[100%] h-[100%] flex flex-col items-center justify-center gap-2`,children:[e.jsx("h1",{className:"font-bold text-[2.2rem]",children:"Welcome Back!"}),e.jsxs("p",{className:"font-semibold text-center font-sans",children:["Enter personal details ",e.jsx("br",{})," to sign In your account"]}),e.jsx("button",{onClick:w,className:"cursor-pointer text-[1.5rem] shadow-md px-[3rem] py-[0.55rem] font-bold rounded-full bg-white/50 mt-[3rem]",children:"SIGN UP"})]}),e.jsxs("div",{className:`${d?"hidden":"block"} relative w-[100%] h-[100%] flex flex-col items-center justify-center gap-2`,children:[e.jsx("h1",{className:"font-bold text-[2.2rem]",children:"Welcome!"}),e.jsxs("p",{className:"font-semibold text-center font-sans",children:["Enter personal details ",e.jsx("br",{})," to create your account"]}),e.jsx("button",{onClick:w,className:"cursor-pointer text-[1.5rem] shadow-md px-[3rem] py-[0.55rem] font-bold rounded-full bg-white/50 mt-[3rem]",children:"SIGN IN"})]})]}),e.jsxs("section",{className:"absolute -left-[10.5rem] max-[800px]:left-[2rem] max-[800px]:bottom-[4rem] max-[440px]:left-0 max-[440px]:w-screen w-[22rem] h-[26rem] bg-[#eee2ca] rounded-xl border-0 shadow-xl  z-4",children:[e.jsxs("form",{onSubmit:k,className:`${d?"block":"hidden"} w-[100%] h-[100%] flex flex-col items-center justify-center gap-[1rem]`,children:[e.jsx("h1",{className:"text-[2rem] font-bold text-[#251201] mb-[2rem]",children:"Sign In"}),e.jsx("input",{value:a,onChange:t=>m(t.target.value),className:"w-[70%] bg-white/30 px-[0.5rem] py-[0.35rem] text-[1.1rem]",placeholder:"Email",type:"email",required:!0}),e.jsx("input",{value:l,onChange:t=>i(t.target.value),className:"w-[70%] bg-white/30 px-[0.5rem] py-[0.35rem] text-[1.1rem]",placeholder:"Password",type:"text",required:!0}),e.jsx("button",{onClick:N,className:"cursor-pointer text-sm text-gray-600 hover:text-red-600 mt-[1rem]",children:"Forget your password!"}),e.jsx("button",{type:"submit",className:"cursor-pointer text-[1.5rem] shadow-md px-[3rem] py-[0.55rem] font-bold rounded-full bg-white/50",children:"SIGN IN"})]}),e.jsxs("form",{onSubmit:I,className:`${d?"hidden":"block"} w-[100%] h-[100%] flex flex-col items-center justify-center gap-[1rem]`,children:[e.jsx("h1",{className:"text-[2rem] font-bold text-[#251201] mb-[1rem]",children:"Sign Up"}),e.jsx("input",{value:h,onChange:t=>x(t.target.value),className:"w-[70%] bg-white/30 px-[0.5rem] py-[0.35rem] text-[1.1rem]",placeholder:"Name",type:"text",required:!0}),e.jsx("input",{value:a,onChange:t=>m(t.target.value),className:"w-[70%] bg-white/30 px-[0.5rem] py-[0.35rem] text-[1.1rem]",placeholder:"Email",type:"email",required:!0}),e.jsx("input",{value:l,onChange:t=>i(t.target.value),className:"w-[70%] bg-white/30 px-[0.5rem] py-[0.35rem] text-[1.1rem]",placeholder:"Password",type:"text",required:!0}),e.jsx("input",{value:f,onChange:t=>u(t.target.value),className:"w-[70%] bg-white/30 px-[0.5rem] py-[0.35rem] text-[1.1rem]",placeholder:"Confirm password",type:"text",required:!0}),e.jsx("button",{type:"submit",className:"cursor-pointer text-[1.5rem] shadow-md px-[3rem] py-[0.55rem] font-bold rounded-full bg-white/50 mt-[1rem]",children:"SIGN UP"})]})]})]})})}export{J as default};
